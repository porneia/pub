spl2-343.txt  Last edited 2006-03-28 for NetHack 3.4.3
Spell effects in NetHack 3.4
Compiled for 3.2.2 by Kevin Hugo.
Updated for 3.4.3 by Dylan O'Donnell <psmith@spod-central.org>.

Spell effects
~~~~~~~~~~~~~
Many attack spells have their damage affected by your experience level (XL)
and your INTelligence, according to modifiers referred to in the following
descriptions as 'spell damage' and 'damage bonus'.
spell damage = (XL/2) +1
if INT < 10:               damage bonus = -3
if INT = 14-18 and XL > 4: damage bonus = 1
if INT > 18    and XL > 4: damage bonus = 2
Otherwise:                 damage bonus = 0

Each spell is annotated with its school and its type. NODIR spells do not
ask for a direction.  BEAM spells ask for a direction, but do not show a
visibly animated effect when cast.  RAY spells produce a ray which is
animated on the screen.  DISTANT spells ask for a position at which to
cast the spell.  BEAM and RAY spells cannot be aborted; if you try to
cancel them at the direction prompt, "The magical energy is released!" in
the direction in which you last took an action (possibly towards yourself).

Monsters are not angered by spells of dig, knock, (extra) healing, stone to
flesh (except stone golems), turn undead (if not undead and none of their
inventory was affected), or wizard lock; being zapped (or missed by) other
spells will cause peaceful monsters to become hostile.

cancellation (matter, BEAM)
  Same effect as a wand of cancellation.
  zap monster
    Some monsters may resist.
    Clay golems are killed
      "Some writing vanishes from <monster's> head!"
    Weremonsters return to human form.
    The monster is cancelled.
  zap downwards
    Any engraving at the location is removed.
  zap object
    Object is cancelled.
  zap self
    All items in your inventory are cancelled.
    If you are polymorphed into a clay golem, you revert to your normal
    form.
      "Some writing vanishes from your head!" (if not blind)

cause fear (enchantment, NODIR)
  Same effect as reading an uncursed scroll of scare monster.
  You will cause monsters within your visual range to flee.  Some
  monsters can resist the effect.
    "You hear maniacal laughter in the distance." (no creature affected)
    No message otherwise.

charm monster (enchantment, NODIR)
  Same effect as reading an uncursed scroll of taming.
  Tames monsters within a one square radius.  Also calms shopkeepers.
  Some monsters can resist.
    No messages.

clairvoyance (divination, NODIR)
  You immediately map a rectangle around you up to 12 rows by 20 columns.
  Clairvoyance can be blocked.
    "You sense a pointy hat on top of your <head>."  (if wearing cornuthaum
      and not a Wizard)

cone of cold (attack, RAY/DISTANT)
  unskilled or basic
    Same effect as a wand of cold.
    zap monster
      The location of the monster is revealed, if unseen.
      If monster is cold resistant, no effect.
      Otherwise, does spell damage to (6 * spell damage) damage, plus
      damage bonus.  It does an additional spell damage to (3 * spell
      damage) damage if the monster is fire resistant.  This damage is
      all doubled if you are a Knight with the Magic Mirror of Merlin.
      Some monsters may resist and take half damage.
      Potions in the monster's inventory may be destroyed.
        "The cone of cold rips into the <monster>." (if swallowed)
        "The cone of cold hits the <monster>." (otherwise)
    zap self
      If you are not cold resistant, does 12 to 72 damage.
        "You imitate a popsicle!" (not cold resistant)
        "You feel a little chill." (cold resistant)
      May freeze potions in your inventory.
    zap location
      If water, it freezes (except on Plane of Water).
        "The water freezes." (normal water, in sight)
        "The moat is bridged with ice!" (moat, in sight)
        "You hear a crackling sound." (water, out of sight)
        "The water freezes for a moment." (Plane of Water, in sight)
        "You hear a soft crackling." (Plane of Water, out of sight)
      If lava, it solidifies.
        "The lava cools and solidifies." (lava, in sight)
      If closed door, it is destroyed.  The ray is halted.
        "The door freezes and shatters!" (in sight)
        "You feel cold." (otherwise)
  skilled or expert
    You may choose a location at which to cast explosions of cold.  This
    location may be no more than 10 squares away, and must be in sight and
    open space.  This spell cannot be used underwater or on the Plane of
    Water; if used while swallowed, it is automatically cast on your own
    location.
      "Your mind fails to lock onto that location!" (out of sight)
      "The spell dissipates over the distance!" (too far)
      "You're joking! In this weather?" (underwater)
      "You had better wait for the sun to come out." (Plane of Water)
    2 to 9 explosions follow; the first is centred at the location you
    chose, subsequent ones randomly at any of the nine squares around that
    point (unless swallowed).  Each explosion affects the surrounding
    squares, as above; monsters and yourself will take spell damage plus
    damage bonus damage if not cold resistant (some monsters may resist and
    take half damage); this damage is doubled for fire resistant monsters.
    Potions in inventories may be destroyed.
      "<Monster> is caught in the ball of cold!"
      "You are caught in the ball of cold!"
    Any explosions that would be centred on yourself do not take place,
    but instead do damage as 'zap self' above.

confuse monster (enchantment, NODIR)
  unskilled or basic
    Same effect as an uncursed scroll of confuse monster.
    If polymorphed into non-@, you are confused for 1 to 100 turns.
      "You feel confused."
    Otherwise, you will confuse the next (one more) monster you hit.
      "Your <hands> begin to glow red."  (unblind)
      "Your <hands> begin to glow red even more."  (unblind, more)
      "Your <hands> tingle."  (blind)
      "Your <hands> tingle even more."  (blind, more)
  skilled or expert
    Same effect as a blessed scroll of confuse monster.
    If polymorphed into non-@, you are confused for 1 to 100 turns.
      "You feel confused."
    Otherwise, you will confuse the next 2 to 9 (more) monsters you hit.
    (Once this number reaches 40, each blessed scroll will only allow
    confusion of one additional monster.)
      "Your <hands> glow a brilliant red."  (unblind)
      "Your <hands> glow an even more brilliant red."  (unblind, more)
      "Your <hands> tingle very sharply."  (blind)
      "Your <hands> tingle even more sharply."  (blind, more)

create familiar (clerical, NODIR)
  A monster of your starting pet type (kitten, little dog or pony; 1/3
  chance) or random monster (2/3 chance) is created.  In any case, it
  becomes your pet if it is capable of being tamed.
    No messages.

create monster (clerical, NODIR)
  Same effect as an uncursed scroll of create monster.
  Creates one (72/73 chance) or 2 to 5 (1/73 chance) monsters around you.
    No messages.

cure blindness (healing, NODIR)
  Cures all forms of blindness not due to a blindfold or towel.
  "You can see again."  (not hallucinating)
    "Far out!  Everything is all cosmic again!"  (hallucinating)

cure sickness (healing, NODIR)
  Cures all forms of sickness (both illness and food poisoning), and
  sliming.
    "You are no longer ill." (if sick)
    "The slime disappears!" (if slimed)
    "What a relief!"

detect food (divination, NODIR)
  unskilled or basic
    Same effect as an uncursed scroll of food detection.
    If no food on that level, no effect.
      "You sense a lack of food nearby."  (saw some before)
      "You have a strange feeling for a moment, then it passes." (beginner
        not hallucinating)
      "You have a normal feeling for a moment, then it passes." (beginner
        hallucinating)
      "Your nose twitches."  (otherwise)
    Otherwise, you detect comestibles on that level.
      "You smell food nearby."  (if just on your square)
      "Your nose tingles and you smell food."  (if elsewhere)
    Note that casting this spell does not cause hunger loss.
  skilled or expert
    Same effect as a blessed scroll of food detection.
    You acquire the food appraisal intrinsic, which will warn you
    when you next (only) eat food that could be dangerous or would
    break a currently-unbroken conduct.
    If no food on that level,
      "You sense a lack of food nearby."
        (saw some before, already have food appraisal.)
      "You sense a lack of food nearby.  Your <nose> starts to tingle."
         (saw some before, no food appraisal.)
      "You have a strange feeling for a moment, then it passes."
        (beginner hallucinating)
      "You have a normal feeling for a moment, then it passes."
        (beginner hallucinating)
      "Your <nose> twitches then starts to tingle."
        (non-beginner, no current food appraisal)
      "Your <nose> twitches."
        (non-beginner with food appraisal already)
    Otherwise, you detect comestibles on that level.
      "You smell food nearby.  Your <nose> starts to tingle."
        (just on your square, no current food appraisal)
      "You smell food nearby."
        (just on your square, already have food appraisal)
      "Your <nose> starts to tingle and you smell food."
        (elsewhere, no current food appraisal)
      "Your <nose> continues to tingle and you smell food."
        (elsewhere, already have food appraisal)


detect monsters (divination, NODIR)
  unskilled or basic
    Same effect as an uncursed potion of monster detection.
    You briefly see monsters on that level and exercise your wisdom.
      "You sense the presence of monsters."
    If no monsters on the level (other than you or your steed), no effect.
      "You have a strange feeling for a moment, then it passes." (beginner
        not hallucinating)
      "You have a normal feeling for a moment, then it passes." (beginner
        hallucinating)
      "You feel threatened."  (not hallucinating)
      "You get the heebie jeebies."  (hallucinating)
  skilled or expert
    Same effect as a blessed potion of monster detection.
    You detect monsters for 21 to 60 (more) turns (if already at least 300
    turns, just one more turn) and exercise your wisdom.
      No message if not already detecting monsters.
      "You feel lonely." (no monsters on level other than you or steed)

detect treasure (divination, NODIR)
  Same effect as an uncursed potion of object detection.
  You detect objects on that level and exercise your wisdom.
    "You sense the presence of objects."  (not hallucinating)
    "You sense the presence of something."  (hallucinating)
    "You sense the absence of objects."  (not hallucinating)
    "You sense the absence of something."  (hallucinating)
  If no objects on level and none had appeared on the map, no effect.
    "You have a strange feeling for a moment, then it passes." (beginner
      not hallucinating)
    "You have a normal feeling for a moment, then it passes." (beginner
      hallucinating)
    "You feel a lack of something."  (otherwise)
  If there are only objects in your inventory, you exercise your wisdom.
    "You sense objects nearby."  (not hallucinating)
    "You sense something nearby."  (hallucinating)
  If you are skilled or expert, you additionally know the appearance of all
  objects on that level (and in your inventory) as if you had seen them.

detect unseen (divination, NODIR)
  Same effect as a wand of secret door detection.
  Secret doors and corridors, non-statue traps, mimics, and hidden and
  invisible monsters in an area of radius 8 are revealed.
    No messages.

dig (matter, RAY)
  Same effect as a wand of digging.
  zap monster
    If swallowed by a non-vortex non-elemental, you are expelled and
    the monster is reduced to 1 hit point.
      "You pierce <monster's> stomach wall!" (if animal)
  zap upwards
    If not on the Planes of Air or Water or underwater, causes a rock
    to fall on your head doing 1 to 6 damage (1 to 2 if wearing a
    metal helmet).
      "The beam bounces off the <stairs> and hits the <ceiling>!"
        (on stairs)
      "You loosen a rock from the <ceiling>.  It falls on your <head>."
  zap downwards
    If standing on stairs, same effect as zapping upwards.
    If in a pit or another trap on a hard-floored level, or a magic
    portal on any level, or phasing within a wall on a level with
    non-diggable walls, no effect.
      "The <floor> here is too hard to dig in."
    If on an altar or throne, no effect.
      "The <throne/altar> is too hard to break apart."
    If on a sink, turns it into a fountain.
      "The pipes break!  Water spurts out!"
    If on a fountain, creates a number of pools nearby.
      "Water gushes forth from the overflowing fountain!" (made at least one)
      "Water sprays all over you." (didn't)
    If over, on or in water or lava, wakes nearby monsters.
      "The <water> sloshes furiously for a moment, then subsides."
    If on a lowered drawbridge or its portcullis, it is destroyed.  Things
    in the vicinity are very likely to die.
      "The drawbridge collapses into the <moat>!" (if still moat or lava)
      "The drawbridge disintegrates!" (if iced or dried up)
      "You are blown apart by flying debris." (died standing on portcullis)
      "You are hit by a huge chunk of metal!" (died on drawbridge)
    If standing on same spot as a boulder, it is destroyed.  An existing
    pit has a 50% chance of just having any spikes removed; otherwise any
    trap is destroyed.
      "The boulder settles into the pit." (existing pit, 50% chance).
      "KADOOM! The boulder falls in!" (otherwise)
    If on a grave, it is excavated.
      "You dig a pit in the grave."
    Otherwise, digs a pit if on a hard-floored level, or a hole if not.
      "You dig a <pit/hole> in the <floor>."
  zap sideways
    The range of the digging ray is 8 to 25 squares through open space.
    Doors and walls count as 3 spaces; stone as two.  If not in a
    non-mazelike Dungeon level or the Plane of Earth, the ray will halt
    after the first obstacle against which it has taken effect; on those
    levels it will continue.
    Known, closed doors will be destroyed; secret doors and diggable walls
    will be converted into empty doorways; diggable stone into open
    corridor spaces.
      "The door is razed!" (closed door)
      "The wall glows then fades." (undiggable wall)
      "The rock glows then fades." (undiggable rock)

drain life (attack, BEAM)
  zap monster
    The location of the monster is revealed, if unseen.
    If the monster is drain resistant or resists, no effect.
    Otherwise, does 1 to 8 damage (2 to 16 if a Knight with the Magic
    Mirror of Merlin) plus damage bonus and drains the monster one level.
      "<Monster> suddenly seems weaker!"
  zap object
    Any charges or enchantments on the item will be reduced by one if it
    does not resist.
  zap self
    If you are not drain resistant, you lose one experience level.

extra healing (healing, BEAM)
  zap monster
    The location of the monster is revealed, if unseen.
    If Pestilence, does 1 to 12 damage.
    Otherwise, restores 6 to 48 hit points to monster and unblinds it.
    Mimics using the "strange object" symbol change to using a real one.
      "The <object> seems a more vivid <colour> than before." (mimic
         mimicking object)
      "<Monster> looks much better."  (non-mimic in sight)
    If the monster is tame or peaceful, then if you are a Healer or lawful,
    your alignment increases by 1; if you are a chaotic non-Healer your
    alignment decreases by 1.
  zap self
    You regain 6 to 48 hit points, and blindness is cured.
      "You feel much better."

finger of death (attack, RAY)
  Same effect as a wand of death.
  zap monster
    If monster is Death, his maximum HP are increased by 50% (to a limit
    of 999) and he is healed to maximum HP.
    If monster is magic resistant, a demon, or non-living, no effect.
    Otherwise, kills the monster.
      "The finger of death rips into the <monster>." (if swallowed)
      "The finger of death hits the <monster>." (otherwise)
  zap location
    If closed door, halts ray.
      "The door absorbs your spell!"
  zap self
    If you are a demon or a non-living monster, no effect.
      "You seem no deader than before."
    Otherwise, you die.
      "You irradiate yourself with pure energy! You die."

fireball (attack, RAY/DISTANT)
  unskilled or basic
    zap self
      Explodes as below, on your own location, doing 6 to 36 damage.
        "You explode a fireball on top of yourself!"
    Otherwise, fires a ray that explodes when it reaches a monster (centred
    on its location) or an obstacle (centred on the square immediately
    before it).  The nine surrounding squares are affected thus:
    affected location
      If ice, it melts.
        "The ice crackles and melts." (in sight)
        No message (otherwise)
      If a pool, evaporates to leave a pit.
        "The water evaporates." (in sight)
        "You hear hissing gas." (otherwise)
      If other water, no effect.
        "Some water evaporates." (in sight)
        "You hear hissing gas." (otherwise)
      If fountain, it dries up.
        "Steam billows from the fountain." (in sight)
        No message (otherwise).
      If closed door, it is destroyed.  The ray is halted.
        "The door is consumed in flames!" (in sight)
        "You smell smoke." (otherwise)
      If a spider web, it burns away.
        "A web bursts into flames!" (in sight)
        No message (otherwise)
    object
      If scroll or spellbook, may be destroyed.  Scrolls of fire,
      spellbooks of fireball and the Book of the Dead will resist.
        "You see a puff of smoke." (not blind)
        "You smell a whiff of smoke." (blind)    
    monster or yourself
      Does 12 to 72 damage if not fire resistant (some monsters may resist
      and take half damage); this damage is doubled for cold resistant
      monsters.  Flammable armour may be damaged and flammable items in
      inventories destroyed.  Burns away slime.
        "<Monster> is caught in the fireball!"
        "You are caught in the fireball!"
  skilled or expert
    You may choose a location at which to cast explosions of fire.  This
    location may be no more than 10 squares away, and must be in sight and
    open space.  This spell cannot be used underwater or on the Plane of
    Water; if used while swallowed, it is automatically cast on your own
    location.
      "Your mind fails to lock onto that location!" (out of sight)
      "The spell dissipates over the distance!" (too far)
      "You're joking! In this weather?" (underwater)
      "You had better wait for the sun to come out." (Plane of Water)
    2 to 9 explosions follow; the first is centred at the location you
    chose, subsequent ones randomly at any of the nine squares around that
    point (unless swallowed).  Each explosion affects the surrounding
    squares and monsters (doing spell damage plus damage bonus damage) as
    above. Any explosions that would be centred on yourself do damage as 
    zap self' above.

force bolt (attack, BEAM)
  Same effect as a wand of striking.
  zap monster
    The location of the monster is revealed, if unseen.
    If the monster is magic resistant, no effect.
    If monster's AC is less than a random number between -9 and 10, and
    it is not swallowing you, the strike misses.
      "The spell misses <monster>." 
    Otherwise, does 2 to 24 points of damage (4 to 48 if you are a Knight
    with the Magic Mirror of Merlin) plus damage bonus.  Some monsters may
    resist and take half damage.  Fragile objects in monster's inventory
    may be broken, as 'zap object' below.
      "The spell hits <monster>."
  zap downwards
    If on a lowered drawbridge or its portcullis, it is destroyed.  Things
    in the vicinity are very likely to die.
      "The drawbridge collapses into the <moat>!" (if still moat or lava)
      "The drawbridge disintegrates!" (if iced or dried up)
      "You are blown apart by flying debris." (died standing on portcullis)
      "You are hit by a huge chunk of metal!" (died on drawbridge)
    Any engraving at the location is corrupted.
  zap upwards
    If on the portcullis of an open drawbridge, it is destroyed.  Effects
    as 'zap downwards' above.
    Otherwise, if not underwater or on the Quest home level or the Plane of
    Air or Water, there is a 2/3 chance of causing a rock to fall on your
    head doing 1 to 6 damage (1 to 2 if wearing a metal helmet).
      "A rock is dislodged from the ceiling and falls on your <head>."
  zap location
    If drawbridge or its portcullis, it is destroyed.  Effects as 'zap
    downwards' above.
    If secret door or closed door, door is broken, waking nearby monsters;
    trapped doors are additionally destroyed, waking slightly less nearby
    monsters.
      "A door appears in the wall!" (secret door, in sight)
      "The door crashes open!" (untrapped, in sight)
      "You hear a crashing sound." (untrapped, not in sight)
      "KABOOM!!  You see a door explode." (trapped, in sight)
      "You hear a distant explosion." (trapped, not in sight)
  zap object
    Statue traps will be activated.
      "Instead of shattering, the statue suddenly comes alive!"
      "Instead of shattering, the statue suddenly disappears!" (invisible)
    Non-trapped statues and boulders will be broken into 8 to 66 rocks.
    Breaking a boulder in Sokoban has a -1 penalty to Luck.
      No message.
    Fragile objects may be broken.  Breaking a mirror has -2 penalty
    to Luck.  Breaking your own eggs has a -1 penalty to Luck per egg
    (to a maximum of 5).
      "<object> shatters!" (potion, in sight)
      "<object> shatters into a thousand pieces!" (tool, in sight)
      "You hear something shatter!" (potion or tool, out of sight)
      "Splat!" (egg)
      "What a mess!" (cream pie, in sight)
  zap self
    If you have magic resistance, no effect.
      "Boing!"
    Otherwise, does 2 to 24 points of damage and abuses strength.
      "You bash yourself!"             

haste self (escape, NODIR)
  You become very fast (like speed boots) for 100 to 109 (more) turns
  (160 to 169 (more) turns if skilled or expert) and exercise your
  dexterity.
    "You are suddenly moving much faster."  (was slow)
    "You are suddenly moving faster."  (was fast)
    "Your <legs> get new energy."  (was already very fast)

healing (healing, BEAM)
  zap monster
    The location of the monster is revealed, if unseen.
    If Pestilence, does 1 to 6 damage.
    Otherwise, restores 6 to 24 hit points to monster and unblinds it.
    Mimics using the "strange object" symbol change to using a real one.
      "The <object> seems a more vivid <colour> than before." (mimic
         mimicking object)
      "<Monster> looks much better."  (non-mimic in sight)
    If the monster is tame or peaceful, then if you are a Healer or lawful,
    your alignment increases by 1; if you are a chaotic non-Healer your
    alignment decreases by 1.
  zap self
    You regain 6 to 24 hit points.
      "You feel better."

identify (divination, NODIR)
  Same effect as a blessed scroll of identify with luck ignored.
  You can identify items from your inventory:
    # items:  1    2    3    4   all
    chance:  1/5  1/5  1/5  1/5  1/5

invisibility (escape, NODIR)
  If wearing a mummy wrapping, no effect.
    "You feel rather itchy under your <mummy wrapping>."
  Otherwise, same effect as an uncursed potion of invisibility.
  You become invisible for 31 to 45 (more) turns.
    No message (if blind).
    "Gee!  All of a sudden, you can't see yourself." (not hallucinating)
    "Gee!  All of a sudden, you can see right through yourself." (not
  hallucinating, see invisible)
    "Far out, man!  You can't see yourself." (hallucinating)
    "Far out, man!  You can see right through yourself." (hallucinating,
      see invisible)

jumping (escape, NODIR)
  If you are swallowed, held stuck, underwater, levitating, on the Plane of
  Air or of Water, or have wounded legs, no effect.
    "You bounce around a little." (swallowed)
    "You writhe a little in the grasp of <monster>." (stuck)
    "You swish around a little." (underwater)
    "You flail around a little." (levitating or on Plane of Air/Water)
    "Your <left/right> <leg(s)> is/are in no shape for jumping." (wounded legs)
  If you are mounted and your steed is trapped or has wounded legs, no
  effect.
    "<Steed> is stuck in a trap." (trapped)
    "<Steed> is in no shape for jumping." (wounded legs)
  Otherwise, you can jump.  The maximum DISTANCE (square of hypotenuse of
  x and y distance) depends on your SKILL in escape spells:
  SKILL    :  unskilled  basic  skilled  expert
  DISTANCE :      9       12      15       18
  Jumping out of bear traps will wound your leg. Jumping in Sokoban
  carries a -1 luck penalty.

knock (matter, BEAM)
  Same effect as a wand of opening.
  zap monster
    If you are being swallowed, you are expelled.
      "<Monster> opens its mouth!" (animal, not blind)
      "You feel a sudden rush of air!" (animal, blind)
    If the monster is saddled, the saddle is dropped.
      No message.
    Otherwise, no effect.
  zap downwards
    If on Quest home level and not permitted to descend, no effect (nice try).
      "The stairs seem to ripple momentarily."
    If phasing through closed portcullis, drawbridge opens.
      "You see a drawbridge going down!"
  zap upwards
    If phasing through closed portcullis, as 'zap downwards' above.
  zap location
    If closed drawbridge, it is opened. Anything in its moat square is
    quite likely to die.
      "You see a drawbridge <coming/going> down!"
      "You are crushed underneath the drawbridge." (died)
    If secret door, it is revealed (but still closed).
      "A door appears in the wall!"
    If locked door, it is unlocked (but still closed).
      "The door unlocks!"
    Otherwise, no effect.
  zap object
    If iron chain attached to you, it is removed and you become unpunished.
      No message.
    If chest or large box, it becomes unlocked, or lock mended if broken.
      "Klick!" (if locked)
      No message for fixing lock.
    Otherwise, no effect.
  zap self
    No effect.
      "Your chain quivers for a moment." (if punished)

levitation (escape, NODIR)
  unskilled or basic
    Same effect as an uncursed potion of levitation.
    You levitate for 10 to 149 (more) turns.
      "You start to float in the air!"  (not hallucinating)
      "Up, up, and awaaaay!  You're walking on air!"  (hallucinating)
      "You float up, out of the pit!"  (were trapped in pit)
      "You float up, only your <leg> is still stuck." (still in bear trap)
      "It feels as though you'd lost some weight."  (Water Plane)
      "You gain control over your movements."  (Air Plane)
  skilled or expert
    Same effect as a blessed potion of levitation.
    You levitate for 250 to 299 (more) turns. You can land at will.
      Same messages as above.

light (divination, NODIR)
  Same effect as an uncursed scroll of light.
  If swallowed, engulfed, or underwater no area is actually lit or darkened.
    "<monster>'s <stomach> is lit. "  (animal)
    "<monster> shines briefly."  (whirly monster)
    "<monster> glistens."  (other swallowed)
  Otherwise, an area of radius 5 is lit.
    "A lit field surrounds you!"
  If on the Rogue level, rooms are lit/darkened instead of an area.

magic mapping (divination, NODIR)
  Same effect as an uncursed scroll of magic mapping.
  If on a non-mappable level you become confused for 1 to 30 turns.
    "Your head spins as something blocks the spell!"
  Otherwise, you map the entire level.
    "A map coalesces in your mind!"

magic missile (attack, RAY)
  Same effect as a wand of magic missile.
  zap monster
    The location of the monster is revealed, if unseen.
    If monster is magic resistant, no effect.
    Otherwise, does spell damage to (6 * spell damage) plus damage bonus
    damage, doubled if you are a Knight with the Magic Mirror of Merlin.
    Some monsters may resist and take half damage.
      "The magic missile rips into the <monster>." (if swallowed)
      "The magic missile hits the <monster>." (otherwise)
  zap location
    If closed door, halts ray.
      "The door absorbs your spell!"
  zap self
    If you are magic resistant, no effect.
      "The missiles bounce!"
    Otherwise, does 4 to 24 damage.
      "Idiot!  You've shot yourself!"

polymorph (matter, BEAM)
  Same effect as a wand of polymorph.
  zap monster
    If the monster is magic resistant or resists, no effect.
    Otherwise, 1/25 chance of monster dying from system shock unless it
    is a natural shapeshifter.
      "<Monster> shudders!"
    If no system shock, monster polymorphs into a new form.
      No message.
  zap downwards
    Any engraving at the location is changed into a randomly chosen
    engraving.
  zap object
    Object may be polymorphed into a new object.  Some objects may
    resist.
  zap self
    If you are not unchanging, you polymorph into a new form.

protection (clerical, NODIR)
  You gain a temporary AC bonus determined by a factor based on your
  experience level, decreased by a factor determined by your existing
  amount of protection from this spell (if any) and your existing
  non-spell AC.
    "The <air> around you begins to shimmer with a golden haze."
    "The golden haze around you becomes more dense." (already protected)
    "Your skin feels warm for a moment." (no bonus earnt)
  This bonus is reduced at a rate of 1 point for every 10 turns (every
  20 turns if cast at expert level).
    "The golden haze around you becomes less dense." (bonus reduced) 
    "The golden haze around you disappears." (bonus down to zero)

remove curse (clerical, NODIR)
  unskilled or basic
    Same effect as an uncursed scroll of remove curse.
    All cursed worn or wielded items (weapons, armor, amulets, rings, and
    eyewear), stackable quivered weapons (or, if wielding a sling, gems or
    stones), applied leashes, and loadstones in main inventory are uncursed.
    Removes a ball and chain (punishment).
      "You feel like someone is helping you."  (not hallucinating)
      "You feel in touch with the Universal Oneness."  (hallucinating)
  skilled or expert
    Same effect as a blessed scroll of remove curse.
    All cursed items in your main inventory become uncursed.
    Removes a ball and chain (punishment).
      Same messages as above.

restore ability (healing, NODIR)
  unskilled or basic
    Same effect as an uncursed potion of restore ability.
    Restores one random lost statistic to its previous maximum amount.
      "Wow!  This makes you feel good!"
  skilled or expert
    Same effect as a blessed potion of restore ability.
    Restores all lost statistics to their previous maximum amount.
      "Wow!  This makes you feel great!"
      "Wow!  This makes you feel better!" (other things wrong with you)

sleep (enchantment, RAY)
  Same effect as a wand of sleep.
  zap monster
    The location of the monster is revealed, if unseen.
    If monster is sleep resistant or resists, no effect.
    Otherwise, monster falls asleep for spell damage to (6 * spell damage)
    (more) turns (to a maximum of 127 more turns).   
      "The sleep ray rips into the <monster>." (if swallowed)
      "The sleep ray hits the <monster>." (otherwise)
  zap location
    If closed door, halts ray.
      "The door absorbs your spell!"
  zap self
    If you have sleep resistance, no effect.
      "You don't feel sleepy!"
    Otherwise, fall asleep for 1 to 50 turns.
      "The sleep ray hits you!"

slow monster (enchantment, BEAM)
  Same effect as a wand of slow monster.
  zap monster
    The monster becomes slow, or normal speed if fast.  If you are engulfed
    by a vortex or air elemental, you are expelled.  Some monsters may
    resist.
      "You disrupt <monster>! A huge hole opens up..." (expelled)
      "<Monster> seems to be moving slower." (slowed, not swallowed)
  zap self
    If you currently have the speed intrinsic, it is lost.
      "You slow down" (not wearing speed boots)
      "Your quickness feels less natural." (wearing speed boots)

stone to flesh (healing, BEAM)
  zap monster
    If a stone golem, becomes a flesh golem (unless the latter are extinct
    or genocided).
      "<Monster> turns to flesh!"
      "<Monster> looks rather fleshy for a moment." (no flesh golems)
    Otherwise, no effect.
  zap upwards
    No effect.
      "Nothing happens." (if underwater or on the Quest home level or the
         Plane of Air or Water)
      "Blood drips on your <face>." (otherwise)
  zap downwards
    Any stone (other than headstone) engraving at the location is
    corrupted.
      "The edges on the floor get smoother." (if not hallucinating)
      "The floor runs like butter!" (if hallucinating)
    Otherwise, no effect.
      "Nothing happens." (if under or over water, on ice, or on the Plane
                          of Air or Water)
      "Blood boils at your <feet>." (in lava)
      "Blood boils beneath your <feet>." (levitating over lava)
      "Blood pools at your <feet>." (otherwise)
      "Blood pools beneath your <feet>." (otherwise, levitating)
  zap object
    If object is made of mineral or gemstone material, it is converted into
    a meatball (rock/stone), meat stick (wand), meat ring (ring) or huge
    chunk of meat (boulder). Converting Sokoban boulders to flesh incurs a
    -1 luck penalty.
      "You smell the odor of meat." (if herbivorous)
      "You smell a delicious smell" (otherwise)
    Statues and figurines may be animated if they are of fleshy monsters
    (if of other monsters, will become meatballs as above). The animation
    fails if the monster is genocided (leaving a corpse, or an unchanged
    object if the monster does not leave corpses). If the statue is of a
    unique monster or a quest guardian monster, it will animate as a
    doppelganger unless the statue was created by actually stoning such a
    monster.
      No message if animation fails.
      "The <statue> comes to life!"
      "The <statue> moves!" (non-living monster)
      "The <statue> disappears!" (invisible monster)
      "The figurine animates!"
  zap self
    If you are polymorphed into a stone golem, you turn into a flesh
    golem unless they are genocided.
    If you are being turned to stone, the process is stopped.
      "You feel limber" (non-hallucinating)
      "What a pity - you just ruined a future piece of art!"
       (hallucinating with charisma <= 15)
      "What a pity - you just ruined a future piece of fine art!"
       (hallucinating with charisma > 15)
    Stone objects in your inventory are affected as above.

teleport away (escape, BEAM)
  Same effect as a wand of teleportation.
  zap monster
    A priest(ess) in his or her temple resists.
      "<Monster> resists your magic!"
    Riders have a 12/13 chance of being teleported to a square next to you.
    Otherwise, the monster is teleported to a random location on the same
    level. If you were engulfed by it, you go with it, unless you are on a
    no-teleport level, in which case you cease to be engulfed and remain
    at your original location.
      "You are no longer inside the <monster>!"
        (was engulfed on a no-teleport level)
      No message (otherwise).
    If the monster is unseen and does not move, its location is revealed.
  zap downwards
    Any engraving on the location will be teleported to a random position
    on the same level.
  zap object
    Rider corpses are immediately revived.
    Otherwise, the object is teleported to a random location on the same
    level.
  zap self
    If you are on a non-teleport level, no effect.
      "A mysterious force prevents you from teleporting!"
    Otherwise, one-third of the time if you are carrying the Amulet of Yendor
    or within the Wizard of Yendor's tower, no effect.
      "You feel disoriented for a moment."
    Otherwise, you teleport to a random or controlled position on the same
    level.

turn undead (clerical, BEAM)
  Same effect as a wand of undead turning.
  zap monster
    Corpses in monster's inventory revive, eggs are rejuvenated.
    Undead monsters take 1 to 8 points of damage (2 to 16 if you are a
    Knight with the Magic Mirror of Merlin) plus damage bonus, their
    location is revealed if unseen, and they flee if they do not resist.
      No message.
  zap object
    Eggs are rejuvenated.
    Corpses are revived.
      No messages.
  zap self
    Corpses in your inventory revive, eggs are rejuvenated.
    If you are undead, you are stunned for 1 to 30 (more) turns.
      "You feel frightened and stunned." (not already stunned)
      "You feel frightened and even more stunned." (already stunned)
    Otherwise, no effect.
      "You shudder in dread."

wizard lock (matter, BEAM)
  Same effect as a wand of locking.
  zap downwards
    If on a lowered drawbridge or its portcullis, raises drawbridge.
    Things in the vicinity are very likely to die.
      "You see a drawbridge <coming/going> up!"
      "You tumble towards the closed portcullis!" (standing on drawbridge)
        "The drawbridge closes in..." (died)
        "You pass through it!" (phasing)
      "You are crushed by the falling portcullis!" (died standing under
        portcullis)
    If on a trap door, closes and removes the trap door.
      "A trap door beneath you closes up then vanishes."
      "You see a swirl of <dust> beneath you." (not previously seen)
      "You hear a twang followed by a thud." (blind)
    Otherwise, no effect.
  zap upwards
    If on a portcullis, raises the drawbridge as 'zap downwards' above.
    Otherwise, no effect.
  zap location
    If lowered drawbridge or portcullis, raises drawbridge.  Things in the
    vicinity are very likely to die.
      "You see a drawbridge <coming/going> up!"
    If doorway on Rogue level, becomes secret door if clear of obstruction.
      "You hear a swoosh." (blind)
      "A cloud of dust springs up in the older, more primitive doorway."
      "The cloud quickly dissipates." (if obstructed)
      "The doorway vanishes!" (otherwise)
    If empty doorway with trap, no effect.
      "A cloud of dust springs up in the doorway, but quickly dissipates."
    If an empty doorway, broken door, or open or closed door, becomes locked
    door.
      "A cloud of dust springs up and assembles itself into a door!" (empty)
      "The broken door reassembles and locks!" (broken)
      "The door swings shut and locks!" (open)
      "The door locks!" (closed)
    Otherwise, no effect.
  zap object
    If chest or large box, is locked (and lock mended if broken).
      "Klunk!" (if not already locked)
    Otherwise, no effect.

Acknowledgements
~~~~~~~~~~~~~~~~
Thanks to Bruce Cox for proofreading the original version of this file.
Further corrections and clarifications provided by Michael Allison,
Jules Bean, Joe Bednorz, Vladimir Florinski, David Grabiner, Wes Irby,
Keiran, Bruce Labbate, Philipp Lucas, Monte Mitzelfelt, Kate Nepveu,
Petrosky, Rast, Jason Short, David Wang, and Sascha Wostmann.
